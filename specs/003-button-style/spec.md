# Feature Specification: 按鈕樣式規範（極簡 Kiosk 風格）

**Feature Branch**: `003-button-style`
**Created**: 2026-01-30
**Status**: Draft
**Input**: User description: "讀取 raw_delta_button.md 並將其結構化為標準"

## Clarifications

### Session 2026-01-30

- Q: 頁簽（Tab Header）是否應納入本規格的適用範圍？ → A: 納入本規格，頁簽採用與操作按鈕一致的深藍/白色系統
- Q: 按鈕尺寸是否需要放大以符合 Kiosk 標準？ → A: 維持 raw_spec 8.6 現有尺寸定義，不調整（POC 階段優先驗證功能）

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 產線操作員快速操作按鈕 (Priority: P1)

產線操作員每天在標籤列印系統上重複操作數百次。他們需要透過固定的按鈕位置形成肌肉記憶，而非依賴顏色辨識來快速完成工作。

**Why this priority**: 這是系統的核心使用場景。產線效率直接影響生產力，操作員的肌肉記憶是提升效率的關鍵因素。

**Independent Test**: 可透過觀察操作員在不看螢幕的情況下能否準確點擊目標按鈕來驗證位置記憶效果。

**Acceptance Scenarios**:

1. **Given** 操作員在資料管理分頁, **When** 需要執行匯入操作, **Then** 匯入按鈕位於工具列左側固定位置
2. **Given** 操作員在資料管理分頁, **When** 需要執行儲存操作, **Then** 儲存按鈕位於工具列最右側固定位置
3. **Given** 操作員在資料管理分頁, **When** 需要執行刪除操作, **Then** 刪除按鈕位於中間區域且與其他按鈕有明顯間距

---

### User Story 2 - 操作員識別按鈕可用狀態 (Priority: P1)

操作員需要立即識別哪些按鈕當前可操作、哪些不可操作，以避免無效點擊並提升操作效率。

**Why this priority**: 清晰的狀態回饋是基本的操作體驗，直接影響使用流暢度。

**Independent Test**: 可透過展示各種狀態組合的按鈕畫面，驗證操作員能否正確判斷可操作性。

**Acceptance Scenarios**:

1. **Given** 按鈕處於啟用狀態, **When** 操作員查看按鈕, **Then** 按鈕顯示為深藍底白字樣式
2. **Given** 按鈕處於停用狀態, **When** 操作員查看按鈕, **Then** 按鈕顯示為灰底灰字樣式
3. **Given** 滑鼠移入啟用的按鈕, **When** 操作員觀察, **Then** 按鈕背景有可感知的變亮效果

---

### User Story 3 - 操作員避免誤刪資料 (Priority: P2)

操作員在執行刪除操作時，系統需要提供足夠的保護機制，防止因誤觸而刪除重要資料。

**Why this priority**: 資料安全是系統的基本保障，但相較於操作效率略為次要。

**Independent Test**: 可透過模擬快速連續點擊刪除按鈕，驗證是否有二次確認機制阻止誤刪。

**Acceptance Scenarios**:

1. **Given** 操作員選取資料後, **When** 點擊刪除按鈕, **Then** 系統顯示確認對話框要求二次確認
2. **Given** 確認對話框顯示中, **When** 操作員點擊取消, **Then** 資料保持不變並關閉對話框
3. **Given** 刪除按鈕在工具列上, **When** 操作員查看按鈕位置, **Then** 刪除按鈕與相鄰按鈕有明顯間隔

---

### User Story 4 - 操作員獲得操作回饋 (Priority: P2)

操作員在執行操作時需要即時的視覺回饋，以確認操作狀態和結果。

**Why this priority**: 操作回饋提升使用信心，但系統基本功能可在無動態回饋下運作。

**Independent Test**: 可透過執行各種操作並觀察視覺回饋是否符合預期來驗證。

**Acceptance Scenarios**:

1. **Given** 有未儲存的變更, **When** 操作員查看儲存按鈕, **Then** 儲存按鈕顯示脈動光暈提醒
2. **Given** 操作正在進行中, **When** 操作員查看按鈕, **Then** 按鈕顯示載入指示並防止重複點擊
3. **Given** 操作完成, **When** 操作成功或失敗, **Then** 按鈕短暫顯示對應的成功或失敗視覺回饋

---

### User Story 5 - 操作員透過鍵盤操作 (Priority: P3)

部分操作員習慣使用鍵盤導航，系統需要提供清晰的焦點指示。

**Why this priority**: 鍵盤操作是輔助功能，多數產線操作以滑鼠為主。

**Independent Test**: 可透過僅使用 Tab 鍵導航並觀察焦點指示是否清晰來驗證。

**Acceptance Scenarios**:

1. **Given** 操作員使用 Tab 鍵導航, **When** 按鈕獲得焦點, **Then** 按鈕顯示白色外框指示焦點位置

---

### Edge Cases

- 當系統處於低效能模式時，動畫效果應能降級為無動畫狀態
- 當多個狀態同時發生時（如 Focus + Hover），系統應按優先序正確顯示複合狀態
- 當快速連續點擊按鈕時，載入中狀態應防止重複觸發操作

## Requirements *(mandatory)*

### Functional Requirements

**位置規範**

- **FR-001**: 資料管理工具列按鈕必須依「建立區（左側）｜危險區（中間）｜確認區（右側）」分區排列
- **FR-002**: 建立區包含匯入、新增按鈕，建立區內按鈕間距為 8px
- **FR-003**: 危險區包含刪除按鈕，與相鄰區域間距必須至少 32px
- **FR-004**: 確認區包含儲存按鈕，位於工具列最右側
- **FR-005**: 標籤列印分頁的輸出 PDF 和批次輸出全部按鈕必須並排置中顯示
- **FR-006**: 分頁導航按鈕（◀ ▶）必須置中顯示

**頁簽規範**

- **FR-022**: 頁簽（Tab Header）採用與操作按鈕一致的深藍/白色系統
- **FR-023**: 選中的頁簽必須顯示為深藍底白字（Active 狀態）
- **FR-024**: 未選中的頁簽必須顯示為較淡的樣式以區分當前位置
- **FR-025**: 頁簽 Hover 狀態必須有可感知的視覺回饋

**樣式規範**

- **FR-007**: 所有啟用狀態的操作按鈕必須使用統一的深藍底白字樣式
- **FR-008**: 所有停用狀態的按鈕必須使用統一的灰底灰字樣式
- **FR-009**: 刪除按鈕不得使用紅色，必須與其他操作按鈕視覺一致
- **FR-010**: 分頁導航按鈕使用次要樣式（白底黑字帶邊框）
- **FR-011**: 按鈕主色必須與標題列背景色一致以維持品牌一致性

**狀態規範**

- **FR-012**: 按鈕 Hover 狀態必須有可感知的背景變亮效果
- **FR-013**: 按鈕 Active（按下）狀態必須有背景變深效果
- **FR-014**: 按鈕 Focus 狀態必須顯示白色外框指示
- **FR-015**: Disabled 按鈕的滑鼠游標必須顯示為箭頭（非手形）

**動態回饋規範**

- **FR-016**: 當有未儲存變更時，儲存按鈕必須顯示脈動光暈效果
- **FR-017**: 操作進行中時，按鈕必須顯示載入指示並禁止重複點擊
- **FR-018**: 操作成功或失敗後，按鈕必須短暫顯示對應的視覺回饋

**保護機制規範**

- **FR-019**: 點擊刪除按鈕後必須顯示二次確認對話框
- **FR-020**: 確認對話框必須包含「確定」和「取消」兩個選項

**狀態優先序規範**

- **FR-021**: 狀態顯示優先序必須為：Disabled > Loading > Active > Focus+Hover > Focus > Hover > Default

### Key Entities

- **Button（按鈕）**: 可點擊的操作元件，具有位置、類型（Action/Disabled/Secondary）、當前狀態等屬性
- **ButtonState（按鈕狀態）**: 按鈕的互動狀態，包含 Default、Hover、Active、Focus、Disabled、Loading
- **PositionZone（位置分區）**: 工具列上的邏輯分區，包含建立區、危險區、確認區
- **ColorToken（顏色代符）**: 定義按鈕各狀態顏色的設計代符，確保全系統一致性

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 操作員能在不依賴顏色辨識的情況下，僅透過位置在 1 秒內定位目標按鈕
- **SC-002**: 100% 的刪除操作都經過二次確認，誤刪率降為零
- **SC-003**: 操作員能正確判斷按鈕可用狀態的準確率達 100%（啟用 vs 停用）
- **SC-004**: 資料管理與標籤列印分頁的按鈕樣式保持 100% 一致
- **SC-005**: 有未儲存變更時，操作員注意到儲存按鈕提醒的比例達 95% 以上
- **SC-006**: 操作進行中無法觸發重複操作，重複點擊攔截率達 100%

## Assumptions

1. 本規範適用於工具列按鈕、操作按鈕及頁簽（Tab Header），不影響標題列按鈕（已於 raw_spec 8.3 定義）
2. 顏色值以 sRGB 色域為準
3. 動畫效果在低階硬體上可降級為無動畫以確保基本功能運作
4. POC 階段可將操作成功/失敗動畫簡化為狀態列文字提示
5. POC 階段不實作長按觸發刪除功能
6. POC 階段不支援深色模式
7. 按鈕尺寸沿用 raw_spec 8.6 定義（主要按鈕 100-140px、工具列按鈕 80-110px），若產線實測需要更大觸控目標可於後續版本調整

## Dependencies

- 依據 `raw_spec.md` v2.5 第 8 章畫面佈局與元件尺寸定義
- 依據 `001-label-print-poc` spec.md 現有的 UI 架構

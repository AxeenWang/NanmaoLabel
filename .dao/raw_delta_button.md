# Delta Spec: 按鈕顏色規範補充（極簡 Kiosk 風格）

| 項目 | 內容 |
|------|------|
| 文件版本 | v2.0 |
| 建立日期 | 2026-01-29 |
| 修訂日期 | 2026-01-29 |
| 狀態 | **草稿** |
| 依據規格 | raw_spec.md v2.5、spec.md |
| 變更範圍 | UI 按鈕視覺樣式（資料管理分頁工具列、標籤列印分頁操作按鈕） |

---

## 1. 目的與範圍（Scope）

### 1.1 背景

原始規格 `raw_spec.md` 第 8 章定義了畫面佈局與元件尺寸，但**未明確定義按鈕的顏色與狀態規範**。

### 1.2 設計原則

本規範採用**極簡 Kiosk 風格**，核心理念：

| 優先序 | 設計要素 | 說明 |
|--------|----------|------|
| 1（最重要） | **位置** | 固定位置形成肌肉記憶，取代顏色辨識 |
| 2 | **狀態** | 用啟用/停用/動畫表達可操作性 |
| 3 | **大小** | 重要按鈕可適度放大 |
| 4（最不重要） | **顏色** | 統一單色，僅用狀態區分 |

> **核心洞察**：產線操作員每天重複操作數百次，靠的是**肌肉記憶（位置）**，而非**視覺辨識（顏色）**。

### 1.3 適用範圍

| 分頁 | 按鈕 |
|------|------|
| 資料管理 | [匯入]、[新增]、[刪除]、[儲存] |
| 標籤列印 | [輸出 PDF]、[批次輸出全部]、◀、▶ |

> **不適用**：標題列按鈕已於 `raw_spec 8.3` 定義，本規範不變更。

---

## 2. 按鈕位置分區規範（Position Zoning）

### 2.1 設計原則

用**物理位置**表達功能語意，取代多色區分：

| 位置 | 功能類型 | 心理暗示 |
|------|----------|----------|
| **左側** | 輸入/建立 | 「開始」、「進入」 |
| **中間（隔開）** | 危險操作 | 物理距離 = 心理距離 |
| **右側** | 確認/完成 | 「下一步」、「完成」 |

### 2.2 資料管理分頁工具列

```
┌──────────────────────────────────────────────────────────────────┐
│                                                                  │
│   [📥 匯入]  [➕ 新增]    │    [🗑️ 刪除]    │    [💾 儲存]      │
│   ←────── 建立區 ──────→       ←─ 危險區 ─→      ←─ 確認區 ─→    │
│          (左側)                  (中間隔開)         (右側)        │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

**間距規範**：

| 區域 | 按鈕間距 | 說明 |
|------|----------|------|
| 建立區內（匯入↔新增） | 8px | 標準間距 |
| 建立區↔危險區 | **32px 以上** | 明確分隔 |
| 危險區↔確認區 | **32px 以上** | 明確分隔 |

### 2.3 標籤列印分頁操作區

```
┌──────────────────────────────────────────────────────────────────┐
│                                                                  │
│            [📄 輸出 PDF]        [📑 批次輸出全部]                │
│            ←─── 主要操作區（並排置中）───→                       │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

**分頁按鈕**：

```
                    ◀  1 / 2  ▶
                    ←─ 導航區（置中）─→
```

---

## 3. 按鈕類型定義（極簡化）

### 3.1 類型總覽

僅定義 **2 種狀態**，取代原本 5 種顏色類型：

| 類型 | 視覺表現 | 適用情境 |
|------|----------|----------|
| **Action**（可操作） | 深藍底白字 | 所有啟用狀態的按鈕 |
| **Disabled**（不可操作） | 灰底灰字 | 所有停用狀態的按鈕 |

### 3.2 按鈕分類表

| 按鈕 | 類型 | 位置區域 | 備註 |
|------|------|----------|------|
| [匯入] | Action | 左側（建立區） | 永遠啟用 |
| [新增] | Action | 左側（建立區） | 永遠啟用 |
| [刪除] | Action/Disabled | 中間（危險區） | 有選取時啟用 |
| [儲存] | Action/Disabled | 右側（確認區） | 有變更時啟用 |
| [輸出 PDF] | Action/Disabled | 主要操作區 | 有選取且預覽成功時啟用 |
| [批次輸出全部] | Action/Disabled | 主要操作區 | 資料數 > 0 時啟用 |
| ◀ ▶ | Action/Disabled | 導航區 | 有上/下頁時啟用 |

---

## 4. 顏色規則（單色系統）

### 4.1 主色定義

採用與標題列相同的深藍色，建立**品牌一致性**：

| Token | Hex | 來源 |
|-------|-----|------|
| `BrandPrimary` | `#1E3A5F` | raw_spec 8.3 標題列背景色 |

### 4.2 按鈕狀態顏色

**Action 按鈕（可操作）**：

| 狀態 | Background | Foreground | Border |
|------|------------|------------|--------|
| Default | `#1E3A5F` | `#FFFFFF` | Transparent |
| Hover | `#2E4A6F` | `#FFFFFF` | Transparent |
| Active (Press) | `#0E2A4F` | `#FFFFFF` | Transparent |
| Focus | `#1E3A5F` | `#FFFFFF` | `#FFFFFF` 2px |

**Disabled 按鈕（不可操作）**：

| 狀態 | Background | Foreground | Border | Cursor |
|------|------------|------------|--------|--------|
| Disabled | `#E0E0E0` | `#A0A0A0` | Transparent | Arrow |

### 4.3 顏色 Token 命名

```
命名格式：Button{State}{Property}

完整清單：
- ButtonDefaultBackground: #1E3A5F
- ButtonDefaultForeground: #FFFFFF
- ButtonHoverBackground: #2E4A6F
- ButtonActiveBackground: #0E2A4F
- ButtonFocusBorder: #FFFFFF
- ButtonDisabledBackground: #E0E0E0
- ButtonDisabledForeground: #A0A0A0
```

---

## 5. 狀態回饋規範（State Feedback）

### 5.1 靜態狀態

| 狀態 | 觸發條件 | 視覺表現 |
|------|----------|----------|
| Default | 按鈕啟用且無互動 | 深藍底白字 |
| Hover | 滑鼠移入 | 背景微微變亮 |
| Active | 滑鼠按下 | 背景變深 |
| Focus | 鍵盤 Tab 聚焦 | 白色外框 |
| Disabled | IsEnabled=false | 灰底灰字 |

### 5.2 動態狀態（狀態動畫）

用**動畫**取代**顏色**來傳達重要資訊：

| 情境 | 動畫效果 | 說明 |
|------|----------|------|
| **有未儲存變更** | 儲存按鈕顯示**脈動光暈** | 吸引注意：「記得儲存！」 |
| **操作進行中** | 按鈕顯示 **Spinner** + 文字變「處理中...」 | 防止重複點擊 |
| **操作成功** | 按鈕短暫變綠 `#107C10` + ✓ 圖示（0.5 秒後恢復） | 正向回饋 |
| **操作失敗** | 按鈕短暫變紅 `#D13438` + ✗ 圖示（0.5 秒後恢復） | 錯誤提示 |

### 5.3 脈動光暈規格（儲存按鈕專用）

當 `IsDirty=true` 時，儲存按鈕顯示脈動效果：

| 屬性 | 值 |
|------|-----|
| 光暈顏色 | `#FFFFFF`（白色，透明度 0.3-0.6 循環） |
| 光暈範圍 | 按鈕外圍 4px |
| 動畫週期 | 1.5 秒 |
| 動畫曲線 | ease-in-out |

```
視覺效果：
┌─────────────────┐
│   ░░░░░░░░░░░   │  ← 光暈（透明度循環變化）
│   ║ 💾 儲存 ║   │
│   ░░░░░░░░░░░   │
└─────────────────┘
```

---

## 6. 刪除按鈕保護機制

### 6.1 設計原則

不依賴紅色警告，改用**流程保護**：

| 保護層 | 機制 | 說明 |
|--------|------|------|
| 第一層 | **位置隔離** | 與其他按鈕拉開 32px 以上 |
| 第二層 | **二次確認** | 點擊後彈出確認對話框 |
| 第三層（可選） | **長按觸發** | 需按住 1.5 秒才觸發 |

### 6.2 確認對話框規格

沿用 `raw_spec 8.9` 定義：

| 項目 | 內容 |
|------|------|
| 標題 | 「確認」 |
| 訊息 | 「確定要刪除選取的資料嗎？此操作無法復原。」 |
| 按鈕 | [確定] [取消] |

### 6.3 刪除按鈕視覺

**與其他按鈕相同**（深藍底白字），不使用紅色：

| 狀態 | 處理 |
|------|------|
| Default | 同 Action 按鈕 |
| Hover | 同 Action 按鈕 |
| Disabled | 同 Disabled 按鈕 |

> **設計理由**：用「流程」而非「顏色」保護，避免視覺雜亂。

---

## 7. 分頁按鈕規格（◀ ▶）

### 7.1 樣式定義

採用 **Secondary 風格**（較低調）：

| 狀態 | Background | Foreground | Border |
|------|------------|------------|--------|
| Default | `#FFFFFF` | `#333333` | `#E0E0E0` 1px |
| Hover | `#F0F0F0` | `#333333` | `#D0D0D0` 1px |
| Active | `#E0E0E0` | `#333333` | `#C0C0C0` 1px |
| Disabled | `#F5F5F5` | `#C0C0C0` | `#E0E0E0` 1px |

### 7.2 尺寸

沿用 `raw_spec 8.6`：

| 項目 | 值 |
|------|-----|
| 最小尺寸 | 40 x 40 px |
| 建議尺寸 | 50 x 50 px |

---

## 8. 規則優先序（Priority Rules）

### 8.1 狀態優先序

| 優先序 | 狀態 | 說明 |
|--------|------|------|
| 1（最高） | **Disabled** | 停用時忽略所有互動狀態 |
| 2 | **Loading** | 執行中時忽略 Hover/Active |
| 3 | **Active** | 按下中 |
| 4 | **Focus + Hover** | Focus 外框 + Hover 背景 |
| 5 | **Focus** | 僅 Focus 外框 |
| 6 | **Hover** | 僅 Hover 背景 |
| 7（最低） | **Default** | 無互動 |

### 8.2 規格衝突處理

| 衝突情境 | 處理方式 |
|----------|----------|
| 本 Delta Spec 與 raw_spec 8.3 衝突 | 標題列按鈕以 raw_spec 8.3 為準 |
| 本 Delta Spec 未定義之元件 | 依本規範精神（單色 + 位置）設計 |

---

## 9. 驗收標準（Acceptance Criteria）

### 9.1 位置驗收

- [ ] **AC-01**: 資料管理工具列按鈕依「建立區｜危險區｜確認區」分區排列
- [ ] **AC-02**: 危險區（刪除）與相鄰區域間距 ≥ 32px
- [ ] **AC-03**: 儲存按鈕位於工具列最右側

### 9.2 顏色驗收

- [ ] **AC-04**: 所有 Action 按鈕使用相同深藍色 `#1E3A5F`
- [ ] **AC-05**: 所有 Disabled 按鈕使用相同灰色 `#E0E0E0`
- [ ] **AC-06**: 刪除按鈕**不使用紅色**

### 9.3 狀態驗收

- [ ] **AC-07**: Hover 時背景色有可感知的變化
- [ ] **AC-08**: Focus 時顯示白色外框
- [ ] **AC-09**: Disabled 按鈕滑鼠游標為 Arrow
- [ ] **AC-10**: 有未儲存變更時，儲存按鈕顯示脈動光暈

### 9.4 互動驗收

- [ ] **AC-11**: 刪除按鈕點擊後顯示二次確認對話框
- [ ] **AC-12**: 操作進行中按鈕顯示 Loading 狀態
- [ ] **AC-13**: 操作成功/失敗有短暫視覺回饋

### 9.5 一致性驗收

- [ ] **AC-14**: 資料管理與標籤列印分頁按鈕樣式一致
- [ ] **AC-15**: 按鈕主色與標題列背景色一致（`#1E3A5F`）

---

## 10. 缺口與假設

### 10.1 已識別缺口

| 缺口 | 說明 | 建議處理 |
|------|------|----------|
| 長按觸發刪除 | 本規範列為「可選」 | POC 階段暫不實作 |
| 操作成功/失敗動畫 | 增加實作複雜度 | POC 階段可簡化為僅狀態列提示 |
| Dark Mode | 未考慮深色模式 | POC 階段不處理 |

### 10.2 假設

1. 本規範僅適用於工具列/操作按鈕，不改動標題列按鈕
2. 顏色值以 sRGB 色域為準
3. 動畫效果在低階硬體上可降級為無動畫

---

## 附錄 A：顏色對照表

| Token | Hex | 用途 |
|-------|-----|------|
| `BrandPrimary` | `#1E3A5F` | 品牌主色（與標題列一致） |
| `ButtonDefaultBackground` | `#1E3A5F` | Action 按鈕預設背景 |
| `ButtonDefaultForeground` | `#FFFFFF` | Action 按鈕預設文字 |
| `ButtonHoverBackground` | `#2E4A6F` | Action 按鈕 Hover 背景 |
| `ButtonActiveBackground` | `#0E2A4F` | Action 按鈕 Active 背景 |
| `ButtonFocusBorder` | `#FFFFFF` | Action 按鈕 Focus 外框 |
| `ButtonDisabledBackground` | `#E0E0E0` | Disabled 按鈕背景 |
| `ButtonDisabledForeground` | `#A0A0A0` | Disabled 按鈕文字 |
| `FeedbackSuccess` | `#107C10` | 操作成功短暫回饋 |
| `FeedbackError` | `#D13438` | 操作失敗短暫回饋 |
| `SecondaryDefault` | `#FFFFFF` | 分頁按鈕預設背景 |
| `SecondaryHover` | `#F0F0F0` | 分頁按鈕 Hover 背景 |
| `SecondaryBorder` | `#E0E0E0` | 分頁按鈕邊框 |

---

## 附錄 B：與 raw_spec 的對應關係

| 本規範章節 | raw_spec 對應 | 關係 |
|-----------|---------------|------|
| §2 位置分區 | 8.5 資料管理分頁 | **新增**（補充位置語意） |
| §3 按鈕類型 | 無 | **新增**（極簡化定義） |
| §4 顏色規則 | 8.3 標題列樣式 | **沿用**（統一品牌色） |
| §5 狀態回饋 | 8.10 按鈕狀態 | **擴充**（補充動畫規範） |
| §6 刪除保護 | 8.9 錯誤處理 | **擴充**（補充流程保護） |
| §7 分頁按鈕 | 8.6 自適應元件 | **補充**（定義樣式） |

---

## 附錄 C：設計決策記錄

### 為什麼採用單色系統？

| 考量 | 多色系統 | 單色系統（採用） |
|------|----------|------------------|
| 學習成本 | 需記憶顏色含義 | 靠位置形成肌肉記憶 |
| 視覺複雜度 | 高（4-5 種顏色） | 低（1 種主色） |
| 品牌一致性 | 分散 | 統一（與標題列同色） |
| Kiosk 適用性 | 偏消費者 App 風格 | 符合產線快速操作 |

### 為什麼刪除按鈕不用紅色？

| 考量 | 紅色警告 | 流程保護（採用） |
|------|----------|------------------|
| 視覺一致性 | 破壞單色系統 | 維持統一風格 |
| 防誤操作 | 僅靠視覺提醒 | 位置隔離 + 二次確認 |
| 實際效果 | 看久會麻痺 | 流程強制確認 |

---

## 變更歷程

| 版本 | 日期 | 變更內容 | 作者 |
|------|------|----------|------|
| v1.0 | 2026-01-29 | 初版建立（多色系統） | Claude |
| v2.0 | 2026-01-29 | 改採極簡 Kiosk 風格（單色 + 位置 + 狀態） | Claude |
